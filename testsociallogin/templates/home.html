{% extends '_base.html' %} {% load socialaccount %}


{% block content %}

<div class="container" style="text-align: center; padding-top: 10%;">
  <h1>Django Social Login</h1>

  <br /><br />

  {% if user.is_authenticated %}
    <h3>Welcome {{ user.username }} !!!</h3>
    <br /><br />
    {% get_social_accounts user as accounts %}
    {% if not accounts.facebook %}
    <!-- facebook button starts here -->
    <a href="{% provider_login_url 'facebook'  process='connect' %}" class="btn btn-secondary">
        <i class="fa fa-facebook fa-fw"></i>
        <span>Connect your Facebook</span>
      </a>
      <!-- facebook button ends here -->
    {% endif %}
    {% if not accounts.google %}
    <!-- Google button starts here -->
    <a href="{% provider_login_url 'google'  process='connect' %}" class="btn btn-secondary">
        <i class="fa fa-google fa-fw"></i>
        <span>Connect your Google account</span>
      </a>
      <!-- Google button ends here -->
    {% endif %}
    
    <a href="{% url 'account_logout' %}" class="btn btn-danger">Logout</a>
    {% else %}
    <!-- facebook button starts here -->
    <a href="{% provider_login_url 'facebook' %}" class="btn btn-secondary">
      <i class="fa fa-facebook fa-fw"></i>
      <span>Login with Facebook</span>
    </a>
    <!-- facebook button ends here -->
    <!-- Google button starts here -->
    <a href="{% provider_login_url 'google' %}" class="btn btn-secondary">
        <i class="fa fa-google fa-fw"></i>
        <span>Login with Google</span>
      </a>
      <!-- Google button ends here -->
  {% endif %}
</div>

{% endblock content %}